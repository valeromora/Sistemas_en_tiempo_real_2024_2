<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <script src='jquery-3.3.1.min.js'></script>
    <link rel="stylesheet" href="app.css">
    <script async src="app.js"></script>
    <title>ESP32 Udemy Course</title>

    <!-- Agrega el CSS del interruptor aquí -->
    <style>
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: 0.4s;
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: 0.4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #2196F3;
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }
    </style>
</head>
<body>
    <header>
        <h1>ESP32 Application Development</h1>
    </header>

    <div id="current_time">
        <h2>Hora actual:</h2>
        <p id="time_display">Cargando...</p>
    </div>
        
    <div id="OTA">
        <h2>ESP32 Firmware Update</h2>
        <label id="latest_firmware_label">Latest Firmware: </label>
        <div id="latest_firmware"></div> 
        <input type="file" id="selected_file" accept=".bin" style="display: none;" onchange="getFileInfo()" />
        <div class="buttons">
            <input type="button" value="Select File" onclick="document.getElementById('selected_file').click();" />
            <input type="button" value="Update Firmware" onclick="updateFirmware()" />
        </div>
        <h4 id="file_info"></h4>	
        <h4 id="ota_update_status"></h4>
    </div>

    <div id="WiFiConnect">
        <h2>ESP32 WiFi Connect</h2>
        <section>
            <input id="connect_ssid" type="text" maxlength="32" placeholder="SSID" value="">
            <input id="connect_pass" type="password" maxlength="64" placeholder="Password" value="">
            <input type="checkbox" onclick="showPassword()">Show Password
        </section>
        <div class="buttons">
            <input id="connect_wifi" type="button" value="Connect" />
            <button onclick="toogle_led()">toogle led</button>
        </div>
        <div id="wifi_connect_credentials_errors"></div>
        <h4 id="wifi_connect_status"></h4>
    </div>

    <hr>

    <div id="servo_control">
        <h2>Control del Servo</h2>
        <label class="switch">
            <input type="checkbox" id="servo_switch" onclick="toggleServo()">
            <span class="slider"></span>
        </label>
        <p id="servo_status">Estado: Cerrado</p>
    </div>
        
    <div id="Configreading">
        <h2>Tiempos configurados</h2>
        <label for="reg_1">Registro 1: </label><br>
        <label for="reg_2">Registro 2: </label><br>
        <label for="reg_3">Registro 3: </label><br>
        <label for="reg_4">Registro 4: </label><br>
        <label for="reg_5">Registro 5: </label><br>
        <label for="reg_6">Registro 6: </label><br>
        <label for="reg_7">Registro 7: </label><br>
        <label for="reg_8">Registro 8: </label><br>
        <label for="reg_9">Registro 9: </label><br>
        <label for="reg_10">Registro 10: </label><br>
    </div>

    <div id="Insert_mem">
        <hr>
        <!-- Dropdown for selecting numbers 1 to 10 -->
        <label for="selectNumber">Selecciona el registro a modificar:</label>
        <select id="selectNumber" name="selectNumber" value="1">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
        </select>
        <br><br>

        <!-- Input fields for configuring time -->
        <label for="hours">Hora:</label>
        <input type="number" id="hours" name="hours" min="0" max="23" value="12">
        
        <label for="minutes">Minutos:</label>
        <input type="number" id="minutes" name="minutes" min="0" max="59" value="30">

        <br><br>

        <!-- Checkboxes for selecting days of the week -->
        <label>Días de la semana:</label><br>
        <input type="checkbox" id="day_mon" name="day_mon" value="Monday" checked>
        <label for="day_mon">Lunes</label>
        
        <input type="checkbox" id="day_tue" name="day_tue" value="Tuesday">
        <label for="day_tue">Martes</label>
        
        <input type="checkbox" id="day_wed" name="day_wed" value="Wednesday">
        <label for="day_wed">Miércoles</label>
        
        <input type="checkbox" id="day_thu" name="day_thu" value="Thursday">
        <label for="day_thu">Jueves</label>
        
        <input type="checkbox" id="day_fri" name="day_fri" value="Friday">
        <label for="day_fri">Viernes</label>
        
        <input type="checkbox" id="day_sat" name="day_sat" value="Saturday">
        <label for="day_sat">Sábado</label>
        
        <input type="checkbox" id="day_sun" name="day_sun" value="Sunday">
        <label for="day_sun">Domingo</label>
        <br>
        <button onclick="send_register()">Enviar Registro</button>
        <button onclick="getregValues()">leer registro</button>
        <button onclick="erase_reg()">borrar registro</button>
    </div>

    <hr>
</body>
</html>